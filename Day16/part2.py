from math import prod

wall = [1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,3,1,2,2,4,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,5,1,2,1,3,1,3,1,4,2,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,2,3,1,2,1,4,1,2,1,4,1,3,1,4,1,2,1,3,2,2,1,4,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,2,3,1,3,1,5,1,2,1,3,1,2,1,4,1,2,1,4,1,2,1,4,1,3,1,3,2,2,2,4,1,2,1,3,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,3,1,3,1,4,1,2,1,3,1,3,1,4,1,2,1,3,1,2,1,4,2,2,1,3,1,2,1,5,1,2,1,4,1,2,1,4,1,2,1,4,1,2,2,4,1,4,1,3,1,2,1,4,1,2,2,3,1,2,1,4,1,2,2,4,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,3,3,1,3,1,4,1,2,1,4,1,2,1,5,1,2,1,3,1,2,1,5,2,2,1,3,1,2,2,4,1,2,1,3,1,2,1,5,1,2,1,3,1,2,1,4,1,2,1,5,1,3,1,4,1,3,1,3,1,3,1,4,1,2,1,3,1,2,1,5,1,2,1,3,1,2,2,4,1,2,1,3,2,2,1,5,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,4,1,2,1,4,3,2,1,3,1,3,1,4,1,2,1,5,1,2,1,4,1,2,1,3,2,2,1,4,1,2,1,3,1,2,1,4,2,3,1,3,1,2,1,4,1,3,1,3,1,2,1,5,1,2,1,3,1,2,1,5,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,5,1,2,1,3,2,3,1,4,1,2,1,6,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,3,1,3,1,4,1,2,1,3,1,2,3,4,1,2,1,3,2,3,1,5,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,4,1,2,1,4,1,3,1,3,1,4,1,4,1,2,1,4,1,2,1,4,1,2,1,3,1,2,2,5,1,3,1,3,1,2,1,5,1,2,1,3,1,2,1,4,2,2,1,3,1,2,1,5,1,3,1,3,1,2,1,4,2,2,1,3,2,3,1,4,1,2,1,4,1,2,1,4,1,2,1,3,1,2,1,5,1,2,2,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,6,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,5,1,2,1,5,1,2,1,3,3,2,2,4,1,2,1,3,1,4,1,4,1,2,1,3,1,3,1,4,1,3,2,3,1,2,1,5,1,2,1,3,1,2,1,4,2,2,1,3,2,2,1,4,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,2,2,1,4,1,2,1,5,1,2,1,3,1,2,1,4,1,4,1,3,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,3,1,2,1,6,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,3,1,3,1,2,1,4,1,2,2,3,1,2,1,4,3,2,1,4,1,2,1,4,1,3,2,4,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,4,1,2,1,4,1,3,1,3,1,2,1,5,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1,5,1,2,1,3,1,2,2,5,1,2,3,3,1,2,1,4,1,2,1,4,1,2,1,4,1,2,1,3,2,2,1,5,1,2,1,3,1,2,1,4,1,3,1,4,1,2,1,4,1,2,1,3,1,2,2,7,1,2,1,3,1,2,1,4,1,2,1,3,1,3,1,4,2,2,1,3,1,2,1,4,1,2,1,3,1,2,1,4,1,2,1,5,2,2,1,4,1,3,1,3,1,2,1,4,1,2,1,3,1,4,1,4,1,3,1,3,1,2,1,4]

length = len(wall)
columns = wall.copy()
spell = []

while max(columns) > 0:
    for i, val in enumerate(columns):
        if val > 0:
            n = i + 1  
            spell.append(n)
            # Subtract 1 from every n-th column
            for j in range(n-1, length, n):
                columns[j] -= 1
            break

print("Recovered spell:", spell)
print("Product:", prod(spell))